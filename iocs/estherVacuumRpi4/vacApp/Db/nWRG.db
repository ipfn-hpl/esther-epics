######################################################
#                                                     #
#     EPICS Database for                              #
#     nWRG RS484 Tags                                 #
#                                                     #
#     author: B. Carvalho   /IPFN                     #
#                                                     #
#     Ref 1.0; 2025                                   #
#                                                     #
#######################################################
##################################################
# Enable Instrument reading                      #
##################################################
record(bo, $(P)$(R)Enable){
    field(DESC, "Enable SCAN/Archive")
    field(ONAM, "ENABLED")
    field(ZNAM, "DISABLED")
    field(VAL, "0")
    field(FLNK, "$(P)$(R)Disabled")
}
record(calc, $(P)$(R)Disabled){
    field(DESC, "Disabled Instrument SCAN")
    field(CALC, "(A==1)?0:1")
    field(INPA, "$(P)$(R)Enable.VAL NPP NMS")
#    field(ZNAM, "Disabled")
#    field(ONAM, "Enabled")
}
# nWRG Address 1
record(ai, "$(P)$(R)STDT-Pressure"){
    field(DESC, "Reads the nWRG STDT Pressure")
    field(DTYP, "stream")
    field(INP, "@nWRG.proto readPressure(1) $(PORT) $(A)")
    field(HIGH, "10")
    field(HSV, "MINOR")
    field(HIHI, "1.3e3")
    field(HHSV, "MAJOR")
    field(EGU, "mBar")
#    field(PREC, "3")
    field(SCAN, "2 second")
# SCAN Disable
    field(SDIS, "$(P)$(R)Disabled")
    field(FLNK, "$(P)$(R)CTST-Pressure")
}
record(mbbiDirect, "$(P)$(R)STDT-WRG-Status") {
    field(DESC, "nWRG Sensor Status")
    field(DTYP, "stream")
    field(INP, "@nWRG.proto readStatus(1) $(PORT) $(A)")
    field(SCAN, "I/O Intr")
}
record(ai, "$(P)$(R)WRG-1-Hours") {
    field(DESC, "nWRG Sensor Hours")
    field(DTYP, "stream")
    field(INP, "@nWRG.proto readHours(1) $(PORT) $(A)")
#    field(SCAN, "2 second")
}
record(ai, "$(P)$(R)STDT-nWRG-Temperature") {
    field(DESC, "STDT nWRG Temperature")
    field(DTYP, "stream")
    field(INP, "@nWRG.proto readTemperature(1) $(PORT) $(A)")
    field(SCAN, "10 second")
    field(SDIS, "$(P)$(R)Disabled")
    field(FLNK, "$(P)$(R)CTST-nWRG-Temperature")
}
# nWRG Address 2
record(ai, $(P)$(R)CTST-Pressure){
    field(DESC, "Reads the nWRG CTST Pressure")
    field(DTYP, "stream")
    field(INP, "@nWRG.proto readPressure(2) $(PORT) $(A)")
    field(HIGH, "10")
    field(HSV, "MINOR")
    field(HIHI, "1.3e3")
    field(HHSV, "MAJOR")
    field(EGU, "mBar")
    field(PREC, "3")
#    field(SCAN, "2 second")
#    field(DISA, "1")
}
record(ai, "$(P)$(R)WRG-2-Hours") {
    field(DESC, "nWRG Sensor Hours")
    field(DTYP, "stream")
    field(INP, "@nWRG.proto readHours(2) $(PORT) $(A)")
#    field(SCAN, "2 second")
}
record(mbbiDirect, "$(P)$(R)CTST-WRG-Status") {
    field(DESC, "nWRG Sensor Status")
    field(DTYP, "stream")
    field(INP, "@nWRG.proto readStatus(2) $(PORT) $(A)")
    field(SCAN, "I/O Intr")
}
record(ai, "$(P)$(R)CTST-nWRG-Temperature") {
    field(DESC, "CTST nWRG Temperature")
    field(DTYP, "stream")
    field(INP, "@nWRG.proto readTemperature(2) $(PORT) $(A)")
#    field(SCAN, "10 second")
}
# vim: sta:et:sw=4:ts=4:sts=4
